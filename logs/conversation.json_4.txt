 SystemMessage 
You are a precise browser automation agent that interacts with websites through structured commands. Your role is to:
1. Analyze the provided webpage elements and structure
2. Plan a sequence of actions to accomplish the given task
3. Respond with valid JSON containing your action sequence and state assessment

Current date and time: 2025-01-17 17:52


INPUT STRUCTURE:
1. Current URL: The webpage you're currently on
2. Available Tabs: List of open browser tabs
3. Interactive Elements: List in the format:
   index[:]<element_type>element_text</element_type>
   - index: Numeric identifier for interaction
   - element_type: HTML element type (button, input, etc.)
   - element_text: Visible text or element description

Example:
33[:]<button>Submit Form</button>
_[:] Non-interactive text


Notes:
- Only elements with numeric indexes are interactive
- _[:] elements provide context but cannot be interacted with



1. RESPONSE FORMAT: You must ALWAYS respond with valid JSON in this exact format:
   {
     "current_state": {
       "evaluation_previous_goal": "Success|Failed|Unknown - Analyze the current elements and the image to check if the previous goals/actions are succesful like intended by the task. Ignore the action result. The website is the ground truth. Also mention if something unexpected happend like new suggestions in an input field. Shortly state why/why not",
       "memory": "Description of what has been done and what you need to remember until the end of the task",
       "next_goal": "What needs to be done with the next actions"
     },
     "action": [
       {
         "action_name": {
           // action-specific parameters
         }
       },
       // ... more actions in sequence
     ]
   }

2. ACTIONS: You can specify multiple actions to be executed in sequence. 

   Common action sequences:
   - Form filling: [
       {"input_text": {"index": 1, "text": "username"}},
       {"input_text": {"index": 2, "text": "password"}},
       {"click_element": {"index": 3}}
     ]
   - Navigation and extraction: [
       {"open_new_tab": {}},
       {"go_to_url": {"url": "https://example.com"}},
       {"extract_page_content": {}}
     ]


3. ELEMENT INTERACTION:
   - Only use indexes that exist in the provided element list
   - Each element has a unique index number (e.g., "33[:]<button>")
   - Elements marked with "_[:]" are non-interactive (for context only)

4. NAVIGATION & ERROR HANDLING:
   - If no suitable elements exist, use other functions to complete the task
   - If stuck, try alternative approaches
   - Handle popups/cookies by accepting or closing them
   - Use scroll to find elements you are looking for

5. TASK COMPLETION:
   - Use the done action as the last action as soon as the task is complete
   - Don't hallucinate actions
   - If the task requires specific information - make sure to include everything in the done function. This is what the user will see.
   - If you are running out of steps (current step), think about speeding it up, and ALWAYS use the done action as the last action.

6. VISUAL CONTEXT:
   - When an image is provided, use it to understand the page layout
   - Bounding boxes with labels correspond to element indexes
   - Each bounding box and its label have the same color
   - Most often the label is inside the bounding box, on the top right
   - Visual context helps verify element locations and relationships
   - sometimes labels overlap, so use the context to verify the correct element

7. Form filling:
   - If you fill a input field and your action sequence is interrupted, most often a list with suggestions poped up under the field and you need to first select the right element from the suggestion list.

8. ACTION SEQUENCING:
   - Actions are executed in the order they appear in the list 
   - Each action should logically follow from the previous one
   - If the page changes after an action, the sequence is interrupted and you get the new state.
   - If content only disappears the sequence continues.
   - Only provide the action sequence until you think the page will change.
   - Try to be efficient, e.g. fill forms at once, or chain actions where nothing changes on the page like saving, extracting, checkboxes...
   - only use multiple actions if it makes sense. 
   - use maximum 10 actions per sequence

Functions:
Search Google in the current tab: 
{search_google: {'query': {'type': 'string'}}}
Navigate to URL in the current tab: 
{go_to_url: {'url': {'type': 'string'}}}
Go back: 
{go_back: {}}
Click element: 
{click_element: {'index': {'type': 'integer'}, 'xpath': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None}}}
Input text into a input interactive element: 
{input_text: {'index': {'type': 'integer'}, 'text': {'type': 'string'}, 'xpath': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'default': None}}}
Switch tab: 
{switch_tab: {'page_id': {'type': 'integer'}}}
Open url in new tab: 
{open_tab: {'url': {'type': 'string'}}}
Extract page content to get the text or markdown : 
{extract_content: {'value': {'default': 'text', 'enum': ['text', 'markdown', 'html'], 'type': 'string'}}}
Done with task: 
{done: {'appName': {'type': 'string'}, 'description': {'type': 'string'}, 'keyfeatures': {'items': {'type': 'string'}, 'type': 'array'}, 'value_proposition': {'type': 'string'}}}
Scroll down the page by pixel amount - if no amount is specified, scroll down one page: 
{scroll_down: {'amount': {'anyOf': [{'type': 'integer'}, {'type': 'null'}], 'default': None}}}
Scroll up the page by pixel amount - if no amount is specified, scroll up one page: 
{scroll_up: {'amount': {'anyOf': [{'type': 'integer'}, {'type': 'null'}], 'default': None}}}
Send strings of special keys like Backspace, Insert, PageDown, Delete, Enter, Shortcuts such as `Control+o`, `Control+Shift+T` are supported as well. This gets used in keyboard.press. Be aware of different operating systems and their shortcuts: 
{send_keys: {'keys': {'type': 'string'}}}
If you dont find something which you want to interact with, scroll to it: 
{scroll_to_text: {'text': {'type': 'string'}}}
Get all options from a native dropdown: 
{get_dropdown_options: {'index': {'type': 'integer'}}}
Select dropdown option for interactive element index by the text of the option you want to select: 
{select_dropdown_option: {'index': {'type': 'integer'}, 'text': {'type': 'string'}}}

Remember: Your responses must be valid JSON matching the specified format. Each action in the sequence must be valid.

 HumanMessage 
Your task is: Visit website https://www.tvfoodmaps.com focusing on:
             what the website is about, what it does, and what it offers.
             Visit 1 to 3 pages and extract the following information:
             - Description of the website
             - Key features of the website
             - Value proposition of the website
             - app name

 AIMessage 
{
  "current_state": {
    "evaluation_previous_goal": "Unknown - The previous goal cannot be evaluated as the current URL is about:blank and no actions have been taken yet.",
    "memory": "The task is to visit the website https://www.tvfoodmaps.com and extract information about its description, key features, value proposition, and app name.",
    "next_goal": "Navigate to the website https://www.tvfoodmaps.com."
  },
  "action": [
    {
      "go_to_url": {
        "url": "https://www.tvfoodmaps.com"
      }
    }
  ]
}

 HumanMessage 
ðŸ”—  Navigated to https://www.tvfoodmaps.com

 AIMessage 
{
  "current_state": {
    "evaluation_previous_goal": "Unknown - The previous goal cannot be evaluated as no actions have been taken yet to extract information from the website.",
    "memory": "The task is to extract information about the website's description, key features, value proposition, and app name from the homepage of TVFoodMaps.",
    "next_goal": "Extract content from the homepage to gather the required information."
  },
  "action": [
    {
      "extract_content": {
        "value": "text"
      }
    }
  ]
}

 HumanMessage 
Current url: https://www.tvfoodmaps.com/
Available tabs:
[TabInfo(page_id=0, url='https://www.tvfoodmaps.com/', title='TVFoodMaps: Restaurants on TV Shows, Diners-Drive-Ins and Dives')]
Interactive elements:
0[:]<a title="TVFoodMaps homepage">Restaurants on TV</a>
1[:]<img alt="TVFoodMaps - Restaurants on TV"></img>
2[:]<label ></label>
3[:]<input placeholder="City, State" type="text"></input>
4[:]<a title="Find Restaurants on TV Nearby"></a>
5[:]<a title="Shows">Shows</a>
6[:]<a title="Find Restaurants">Find Restaurants</a>
7[:]<a title="Road Trip">Road Trip</a>
8[:]<a title="Articles">Articles</a>
9[:]<a title="AI Concierge">AI Concierge</a>
10[:]<a title="Advertise">Advertise</a>
11[:]<button >Get started</button>
_[:]Restaurants on TV
_[:]TVFoodMaps is the largest directory of restaurants seen on over
12[:]<a >50 different TV shows</a>
_[:]like
_[:]Diners, Drive-Ins and Dives
_[:]and
13[:]<a >Man vs. Food</a>
_[:].
14[:]<a >Explore Restaurants on TV</a>
15[:]<img alt="Restaurants on TV"></img>
_[:]Find the Restaurants You See on TV!
_[:]Plan your next foodie vacation, road trip or find places nearby.
16[:]<a >Find By Show</a>
17[:]<a >Restaurants Near Me</a>
18[:]<a >Plan a Road Trip</a>
19[:]<a >Find By State</a>
20[:]<a >New Restaurants</a>
21[:]<a >Popular Restaurants</a>
_[:]All the features to make you the
_[:]Ultimate TV Foodie!
22[:]<iframe title="3rd party ad content" name="" aria-label="Advertisement" tabindex="0"></iframe>
23[:]<a ></a>
24[:]<a ></a>
25[:]<img type="image/gif"></img>
26[:]<iframe name="google_ads_iframe_/18190176,127934906/AdThrive_Video_StickyOutstream_1/664b521a30d27b764bab04db_0" title="3rd party ad content" aria-label="Advertisement" tabindex="0"></iframe>
        
Result of action 1/1: ðŸ“„  Extracted page content
: Best Bite In TownGuy Fieri and his chef friends present their favourite dishes from local restaurants to a panel of expert judges who will crown the best bite in town.Food NetworkDiners, Drive-ins and DivesDDD (Triple D) follows Food Network host Guy Fieri as he travels in search of great food.Food NetworkMan vs Food NationMan v. Food Nation is the evolution of Man v. Food. Adam Richman has scoured the country, competing in America's most compelling food challenges. He's fought, he's conquered, and he's been conquere...Travel ChannelThe Bear: Featured RestaurantsThe Bear is a hit show on FX taking place in Chicago. During the show many amazing Chicago restaurants are featured on the show, this is a comprehensive list of those restaurants seen during The Bear.FX100.00TVFScoreKatz's DelicatessenNew York,NYKatz's Delicatessen in New York, NY has been featured on numerous Food Network television shows, including Best Thing I Ever ...Best Thing I Ever Ate99.99TVFScoreCafe Du Monde French MarketNew Orleans,LACafe Du Monde French Market in New Orleans, LA is a popular spot for traditional beignets and chicory coffee. It has been fea...Delicious Destinations99.97TVFScoreLou Malnati's PizzeriaChicago,ILLou Malnati's Pizzeria is a Chicago-based pizzeria that has been featured on several popular TV shows, such as You Gotta Eat ...You Gotta Eat Here99.96TVFScoreChaps Pit BeefBaltimore,MDChaps Pit Beef in Baltimore, MD is a nationally renowned pit beef sandwich spot that has been featured on several popular TV ...Best Thing I Ever Ate99.94TVFScoreGino's EastChicago,ILGino's East, a famous deep-dish pizza restaurant located in Chicago, IL, has been featured in a number of popular TV shows, i...United States of Bacon99.93TVFScoreTony Luke'sPhiladelphia,PATony Luke's in Philadelphia, PA is a local favorite, known for its delicious cheesesteaks and Italian-style sandwiches. It ha...Best Thing I Ever Ate99.91TVFScorePrimanti Bros.Pittsburgh,PAPrimanti Bros. is a popular Pittsburgh restaurant that has been featured on TV shows such as Bizarre Foods America, Guilty Pl...Bizarre Foods America99.90TVFScoreAl's BeefChicago,ILAl's Beef in Chicago, IL is a hometown favorite and national celebrity. It has been featured on TV shows such as Food Wars, M...Food Wars13.43TVFScoreThink GreekPort St. Lucie,FLThink Greek is a delightful Greek restaurant located in Port St. Lucie, FL, known for its fresh and homemade dishes. The restau...Best Bite In Town28.89TVFScoreBabalu's Cuban CafÃ©Port St. Lucie,FLBabalu's Cuban CafÃ© in Port St. Lucie, FL, offers an authentic Cuban dining experience with a South Florida flair. Known for it...Best Bite In Town32.58TVFScoreMy Brothers BbqPort St. Lucie,FLMy Brothers BBQ in Port St. Lucie, FL, is a family-owned gem known for its homemade comfort food and soul food dishes. Featured...Best Bite In Town32.62TVFScoreRamen Hana & WingsPort St. Lucie,FLRamen Hana & Wings in Port St. Lucie, FL, is a hidden gem known for its cozy atmosphere and friendly service. Located in a ligh...Best Bite In Town24.84TVFScoreKetchAFire Jerk and SeafoodPort St. Lucie,FLKetchAFire Jerk and Seafood in Port St. Lucie, FL, is a highly recommended food truck known for its fresh ingredients and frien...Best Bite In Town29.01TVFScoreFrancesca's PizzaPort St. Lucie,FLFrancesca's Pizza in Port St. Lucie, FL, is a family-friendly restaurant known for its fantastic pizza and vibrant atmosphere. ...Best Bite In Town16.07TVFScorePerro SaladoNewport,RIPerro Salado in Newport, RI, offers elevated Mexican dishes with a fun flare, set in a classic New England style house. The atm...Best Bite In Town13.44TVFScoreStoneacre BrasserieNewport,RIStoneacre Brasserie in Newport, RI, is a gem located in the middle of the square, known for its elegant and relaxing ambiance. ...Best Bite In Town

 RESPONSE
{
  "current_state": {
    "evaluation_previous_goal": "Success - The content has been successfully extracted from the homepage of TVFoodMaps, providing insights into its offerings and features.",
    "memory": "The homepage of TVFoodMaps has been analyzed, and key information has been extracted regarding its description, features, and value proposition.",
    "next_goal": "Compile the extracted information into the required format."
  },
  "action": [
    {
      "done": {
        "appName": "TVFoodMaps",
        "description": "TVFoodMaps is the largest directory of restaurants seen on over 50 different TV shows, including Diners, Drive-Ins and Dives and Man vs. Food.",
        "keyfeatures": [
          "Find restaurants featured on TV shows",
          "Plan foodie vacations and road trips",
          "Search by city, state, or show"
        ],
        "value_proposition": "Connects food lovers with restaurants they see on TV, making it easy to find and visit these locations."
      }
    }
  ]
}